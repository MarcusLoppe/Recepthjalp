{"version":3,"sources":["components/sorter.js","components/Query.js","searchEngine.js","index.js"],"names":["module","exports","sorter","results","ingredients","objectRet","Object","size","data","forEach","result","index0","recipeItem","Name","IMG_URL","Rating","rating","URL","IngredientsMissing","IngredientsMatches","missingCount","ingredientSplit","Ingredients","split","missing","ingredientItem","index","items","curIngredient","index2","includes","toLowerCase","indexOf","push","sort","a","b","length","console","log","mealTime","key","text","value","diet","time","grade","kcal","obj","hasOwnProperty","ExampleT","props","filters","mealtime","climateSmart","fetchSearchResults","queryItems","filter","axios","post","headers","then","res","setState","catch","error","isCancel","loading","message","state","cookieconsent_status","initialize_ga","ReactGA","initialize","TagManager","gtmId","pageview","item","event","category","action","removeIngredients","removeItem","target","getAttribute","splice","name","handleSearchKeydown","e","addIngredients","handleClick","titleProps","newIndex","activeIndex","handleChangeFilter","checked","handleSearch","bind","Cookies","get","query","this","document","getElementById","curIndex","sorteredResults","Grid","centered","columns","map","Row","Column","Item","Group","Image","as","onClick","window","open","src","Content","Header","Meta","Label","color","Accordion","Title","indexstate","Icon","active","id","Extra","icon","maxRating","disabled","className","class","href","basic","image","Input","onKeyDown","style","minWidth","link","placeholder","Button","aria-hidden","Dropdown","floating","clearable","compact","options","onChange","selection","Checkbox","toggle","label","renderSearchResults","React","Component","styleLink","createElement","rel","head","appendChild","ReactDOM","render"],"mappings":"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","file":"static/js/main.a1ecaf56.chunk.js","sourcesContent":["module.exports = {\r\n sorter: function(results, ingredients){\r\n   var objectRet = { results: []  };\r\n   \tif ( Object.size(results)) {\r\n      results.data.forEach(function (result, index0){\r\n        var recipeItem = {\r\n           Name: result.Name,\r\n           IMG_URL: result.IMG_URL,\r\n           Rating: result.rating,\r\n           URL: result.URL,\r\n           IngredientsMissing: [],\r\n           IngredientsMatches: [],\r\n           missingCount: 0\r\n         };\r\n\r\n        var ingredientSplit = result.Ingredients.split(\",\");\r\n        var missing = true;\r\n          ingredientSplit.forEach(function (ingredientItem, index){\r\n\r\n              missing = true;\r\n              ingredients.items.forEach(function (curIngredient, index2){\r\n                if(ingredientItem.includes(curIngredient.toLowerCase()) && recipeItem.IngredientsMatches.indexOf(curIngredient.toLowerCase()) == -1){\r\n                      missing = false;\r\n                      recipeItem.IngredientsMatches.push(ingredientItem);\r\n                    }\r\n                  }\r\n                )\r\n\r\n                  if(missing){\r\n                    recipeItem.IngredientsMissing.push(ingredientItem);\r\n                    recipeItem.missingCount += 1;\r\n                  }\r\n            });\r\n            objectRet.results.push(recipeItem);\r\n        }\r\n      )\r\n      }\r\n      objectRet.results.sort(function(a, b){return b.IngredientsMatches.length - a.IngredientsMatches.length} )\r\n      console.log(objectRet);\r\n      return objectRet;\r\n    }\r\n }\r\n","\tconst mealTime = [\r\n\t  { key: 1, text: 'Frukost' , value: 'Frukost'},\r\n\t  { key: 2, text: 'Huvudrätt' , value: 'Huvudrätt'},\r\n\t  { key: 3, text: 'Middag' , value: 'Middag'},\r\n\t  { key: 4, text: 'Efterrätt' , value: 'Efterrätt'}\r\n\t]\r\n\r\n\tconst diet = [\r\n\t  { key: 1, text: 'Vegetarisk'  , value:  'Vegterainsk' },\r\n\t  { key: 2, text: 'Vegan' , value: 'Vegan'},\r\n\t  { key: 3, text: 'Glutenfri' , value: 'Glutenfri'},\r\n\t  { key: 4, text: 'Laktosfri' , value: 'Laktosfri'}\r\n\t]\r\n\r\n\tconst time = [\r\n\t  { key: 1, text: 'Under 15min' , value: 'Under 15min' },\r\n\t  { key: 2, text: 'Under 30min' , value: 'Under 30min'},\r\n\t  { key: 3, text: 'Under 45min' , value: 'Under 45min'},\r\n\t  { key: 4, text: 'Under 60min' , value: 'Under 60min'},\r\n\t  { key: 5, text: 'Över 60min' , value: 'Över 60min'}\r\n\t]\r\n\r\n\tconst grade = [\r\n\t  { key: 1, text: 'Färre än 3' , value: 'Mindre än 3' },\r\n\t  { key: 2, text: 'Färre än 4' , value: 'Mindre än 4'},\r\n\t  { key: 3, text: 'Fler än 4' , value: 'Högre än 4'},\r\n\t  { key: 4, text: '5 sjärnor' , value: '5 sjärnor'}\r\n\t]\r\n\tconst kcal = [\r\n\t  { key: 1, text: 'Under 200 kcal', value: 'Under 200 kcal' },\r\n\t  { key: 2, text: 'Under 500 kcal', value: 'Under 500 kcal' },\r\n\t  { key: 3, text: 'Under 1000 kcal', value: 'Under 1000 kcal' },\r\n\t];\r\n\r\nexport {diet,mealTime, time, grade, kcal};\r\n","import React from 'react';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport {mealTime, diet, time, grade, kcal} from './components/Query'\nimport {sorter} from './components/sorter'\nimport {Dropdown,Checkbox, Accordion, Label,Input, Button,Icon ,Grid , Image, Item , Rating} from 'semantic-ui-react'\nimport ReactGA from 'react-ga';\nimport TagManager from 'react-gtm-module'\n\n\nObject.size = function(obj) {\n    var size = 0, key;\n    for (key in obj) {\n        if (obj.hasOwnProperty(key)) size++;\n    }\n    return size;\n};\n\n\nclass ExampleT extends React.Component{\n\n  ingredients = {\n      items: []\n  };\n\n  filters = {\n    mealtime: '',\n    diet: '',\n    time: '',\n    grade: '',\n    kcal: '',\n    climateSmart: false\n  };\n\n  constructor( props ) {\n  \t\tsuper( props );\n\n      this.fetchSearchResults = this.fetchSearchResults.bind(this);\n      this.handleSearch = this.handleSearch.bind(this);\n      this.addIngredients = this.addIngredients.bind(this);\n      this.handleSearchKeydown = this.handleSearchKeydown.bind(this);\n  \t\tthis.state = {\n        cookieconsent_status : Cookies.get('cookieconsent_status'),\n        initialize_ga : false,\n        activeIndex: null ,\n  \t\t\tquery: '',\n  \t\t\tresults: {},\n  \t\t\tloading: false,\n  \t\t\tmessage: ''\n  \t\t};\n  \t};\n\n    fetchSearchResults = (queryItems, filter ) => {\n    \t\taxios.post(  `/api/recipe`, {\n         \"keywords\" : queryItems,\n         \"filter\" : filter\n    \t\t},{\n          headers: {'Content-Type': 'application/json'\n         }\n        } )\n    \t\t\t.then(res => {\n            this.setState( {\n    \t\t\t\t\tresults: res.data\n    \t\t\t\t} )\n    \t\t\t} )\n    \t\t\t.catch( error => {\n    \t\t\t\tif ( axios.isCancel(error) || error ) {\n              console.log(\"Failed to fetch the data. Please check network\");\n\n    \t\t\t\t\tthis.setState({\n    \t\t\t\t\t\tloading: false,\n    \t\t\t\t\t\tmessage: 'Failed to fetch the data. Please check network'\n    \t\t\t\t\t})\n    \t\t\t\t}\n    \t\t\t} )\n\n          if (this.state.cookieconsent_status){\n            if(this.state.initialize_ga === false){\n              ReactGA.initialize('UA-163900334-1', 'auto' );\n              const tagManagerArgs = {\n                    gtmId: \"GTM-K9WDKDN\"\n                      }\n              TagManager.initialize(tagManagerArgs );\n              this.state.initialize_ga = true;\n            }\n\n            ReactGA.pageview('search.php?keywords=' + queryItems)\n            queryItems.forEach(function (item, index){\n                ReactGA.pageview('search.php?keyword=' + item);\n            });\n\n            if(!!filter.diet)\n                  ReactGA.event({    category: \"Specialkost\",     action: filter.diet,  value: filter.diet  });\n            if(!!filter.mealTime)\n                  ReactGA.event({    category: \"Måltid\", action: filter.mealTime,  value: filter.mealTime    });\n            if(!!filter.time)\n                  ReactGA.event({    category: \"Tillagningstid\",     action: filter.time,  value: filter.time    });\n            if(!!filter.kcal)\n                  ReactGA.event({    category: \"Kcal\",     action: filter.kcal,value: filter.kcal  });\n            if(filter.climateSmart)\n                  ReactGA.event({    category: \"Klimartsmart\" , action: \"Klimartsmart\",   value: \"true\" });\n           }\n    \t};\n\n  addIngredients () {\n        this.setState(state => {\n          if(document.getElementById('searchInput').value !== '') {\n            const items = this.ingredients.items.push(document.getElementById('searchInput').value);\n            document.getElementById('searchInput').value = \"\";\n            return {   items,  name: '', };\n          }\n        })\n  }\n\n  removeIngredients = (event) => {\n        const removeItem = event.target.getAttribute(\"aria-hidden\");\n        this.setState(state => {\n            const items = this.ingredients.items.splice(this.ingredients.items.indexOf(removeItem),1);\n            return {   items,  name: '', };\n          }  )\n  }\n\n  handleSearch  ()  {\n      this.setState(state => {\n        this.fetchSearchResults(this.ingredients.items, this.filters);\n      })\n   }\n\n   handleSearchKeydown = (e) => {\n     if (e.key === 'Enter') {\n       this.addIngredients();\n     }\n   }\n   handleClick = (e, titleProps) => {\n     const { index } = titleProps\n     const { activeIndex } = this.state\n     const newIndex = activeIndex === index ? -1 : index\n\n     this.setState({ activeIndex: newIndex })\n   };\n\n   handleChangeFilter = (event, data) => {\n     if(data.name === 'climateSmart')\n       this.filters[data.name] = data.checked;\n     else\n       this.filters[data.name] = data.value;\n\n       this.handleSearch();\n    }\n\n  renderSearchResults () {\n      var curIndex = -1;\n      const { activeIndex } = this.state\n      var sorteredResults = sorter(this.state.results, this.ingredients);\n\t\t\tif ( Object.size(this.state.results) ) {\n\t\t\t         return (\n                 <Grid centered columns={1}>\n        \t\t\t\t\t{\n                    sorteredResults.results.map( result => {\n                    curIndex ++;\n          \t\t\t\t\treturn (\n                      <Grid.Row>\n                       <Grid.Column>\n                        <Item.Group>\n                         <Item>\n                            <Item.Image  as='a' onClick={()=> window.open(result.URL, \"_blank\")} size='small' src={ result.IMG_URL } />\n                            <Item.Content>\n                              <Item.Header as='a' onClick={()=> window.open(result.URL, \"_blank\")} >{result.Name}</Item.Header>\n                                 <Item.Meta>\n                                    { result.IngredientsMatches.map(ingredientItem => {\n                                            return(  <Label color='green'>{ ingredientItem }</Label>\n                                                  )\n                                        })\n                                      }\n                                      <br/>\n                                      <Accordion>\n                                           <Accordion.Title\n                                             indexstate={activeIndex && curIndex}\n                                             index={curIndex}\n                                             onClick={this.handleClick}\n                                           >\n                                             <Icon name='dropdown' />\n                                             Saknade ingredienser: (\n                                                {  result.missingCount }\n                                             )\n                                           </Accordion.Title>\n                                           <Accordion.Content active={activeIndex === curIndex}>\n                                            {\n                                                result.IngredientsMissing.map( curIngredient => {\n                                                        return (\n                                                           <Label size='small' id='missing' color='red'>{curIngredient}</Label>\n                                                        )\n                                                      })\n                                            }\n                                        </Accordion.Content>\n                                        </Accordion>\n                                   </Item.Meta>\n                                   <Item.Extra>\n                                     <Rating icon='star' rating={result.Rating} maxRating={5} disabled/>\n                                    </Item.Extra>\n                              </Item.Content>\n                          </Item>\n                       </Item.Group>\n                       <hr className=\"myDivivder\"/>\n                   </Grid.Column>\n                </Grid.Row>\n                  )})}\n          </Grid>\n  \t\t\t)}};\n\n\n  render() {\n\n    return (\n      <div>\n        <Image size='big' class=\"recipe-image-square__image\" id='logopic' href=\"http://recepthjälp.se\" src='.\\logo.png'/>\n        <br/>\n        <Label.Group>\n        <Label basic image >\n         <Icon name='plus circle' color='blue'/>\n          1. Lägg till de ingredienser som skall användas.\n        </Label>  <br/>\n        <Label basic image>\n          <Icon name='filter' color='blue' />\n          2. Filtrera recepten enligt dina preferenser.\n        </Label>  <br/>\n        <Label basic image>\n         <Icon name='hand pointer' color='blue'/>\n          3. Tryck på ett recept som lockar!\n        </Label>\n          </Label.Group>  <br/>  <br/>\n            <Input onKeyDown={this.handleSearchKeydown}  id='searchInput' style={{minWidth: '50%'}}\n                icon={<Icon name='plus circle' color='blue'  link  onClick={this.addIngredients} />}\n                placeholder='Fyll i ingredienser'>\n            </Input>\n\n          <Button onClick={this.handleSearch}>\n            <Icon name='search' />\n          </Button>\n          <br/>\n\n          <div id=\"divIngredients\" onClick={this.removeIngredients}>\n             {this.ingredients.items.map(function(item){\n                                                        return(\n                                                        <Label >  {item}     <Icon aria-hidden={item} name='close' />   </Label>\n                                                        )\n                                                      })}\n         </div>\n\n        <br/><br/>\n            <Dropdown name='mealtime' floating clearable compact placeholder='Måltid'\n                      options={mealTime} onChange={this.handleChangeFilter} selection />\n            <Dropdown name='diet' floating clearable compact  placeholder='Kosthållning'\n                      options={diet} onChange={this.handleChangeFilter} selection />\n            <Dropdown name='time' floating clearable  compact placeholder='Tillagningstid'\n                      options={time} onChange={this.handleChangeFilter} selection />\n            <Dropdown name='grade' floating clearable compact  placeholder='Betyg'\n                      options={grade} onChange={this.handleChangeFilter} selection />\n            <Dropdown name='kcal' floating clearable compact  placeholder='Kcal'\n                      options={kcal} onChange={this.handleChangeFilter} selection />\n            <Checkbox id=\"climateSmart\" name='climateSmart' toggle label='Klimartsmart'\n                        onChange={this.handleChangeFilter} />\n\n                <br/><br/>\n      { this.renderSearchResults() }\n    </div>\n);\n\n}\n}\n\nexport default ExampleT\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport Example from \"./searchEngine\";\n// TODO: Switch to https://github.com/palmerhq/the-platform#stylesheet when it will be stable\nconst styleLink = document.createElement(\"link\");\nstyleLink.rel = \"stylesheet\";\nstyleLink.href = \"https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css\";\ndocument.head.appendChild(styleLink);\n\nReactDOM.render( <Example/>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}