{"version":3,"sources":["components/sorter.js","components/Query.js","example.js","index.js"],"names":["module","exports","sorter","results","ingredients","objectRet","Object","size","data","map","result","recipeItem","Name","IMG_URL","Rating","rating","URL","IngredientsMissing","IngredientsMatches","missingCount","ingredientSplit","keys","items","Ingredients","split","missing","ingredientItem","curIngredient","includes","push","sort","a","b","length","mealTime","key","text","value","diet","time","grade","kcal","obj","hasOwnProperty","ExampleT","props","filters","mealtime","climateSmart","fetchSearchResults","queryItems","filter","axios","post","headers","then","res","setState","catch","error","isCancel","console","log","loading","message","state","cookieconsent_status","initialize_ga","ReactGA","initialize","TagManager","gtmId","pageview","item","event","category","action","removeIngredients","removeItem","target","getAttribute","splice","indexOf","name","handleSearchKeydown","e","addIngredients","handleClick","titleProps","index","newIndex","activeIndex","handleChangeFilter","checked","handleSearch","bind","Cookies","get","query","this","document","getElementById","curIndex","sorteredResults","Grid","centered","columns","Row","Column","Item","Group","Image","as","onClick","window","open","src","Content","Header","Meta","Label","color","Accordion","Title","indexstate","Icon","active","id","Extra","icon","maxRating","disabled","className","class","href","basic","image","Input","onKeyDown","style","minWidth","link","placeholder","Button","aria-hidden","Dropdown","floating","clearable","compact","options","onChange","selection","Checkbox","toggle","label","renderSearchResults","enableDeclineButton","declineButtonText","fontSize","React","Component","styleLink","createElement","rel","head","appendChild","ReactDOM","render"],"mappings":"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","file":"static/js/main.313f49eb.chunk.js","sourcesContent":["module.exports = {\r\n sorter: function(results, ingredients){\r\n   var objectRet = { results: []  };\r\n   \tif ( Object.size(results)) {\r\n      results.data.map( result => {\r\n        var recipeItem = {\r\n           Name: result.Name,\r\n           IMG_URL: result.IMG_URL,\r\n           Rating: result.rating,\r\n           URL: result.URL,\r\n           IngredientsMissing: [],\r\n           IngredientsMatches: [],\r\n           missingCount: 0\r\n         };\r\n\r\n        var keys = Object.keys(ingredients.items);\r\n        var ingredientSplit = result.Ingredients.split(\",\");\r\n        var missingCount = 0;\r\n        var missing = true;\r\n          ingredientSplit.map(ingredientItem => {\r\n              ingredients.items.map(curIngredient => {\r\n                 missing = true;\r\n                if(ingredientItem.includes(curIngredient)){\r\n                      missing = false;\r\n                      recipeItem.IngredientsMatches.push(ingredientItem);\r\n                    };\r\n                    }\r\n                  )\r\n\r\n                  if(missing){\r\n                    recipeItem.IngredientsMissing.push(ingredientItem);\r\n                    recipeItem.missingCount += 1;\r\n                  }\r\n            });\r\n            objectRet.results.push(recipeItem);\r\n        }\r\n      )\r\n      }\r\n      objectRet.results.sort(function(a, b){return b.IngredientsMatches.length - a.IngredientsMatches.length} )\r\n      return objectRet;\r\n    }\r\n }\r\n","import ReactDOM from 'react-dom';\r\nimport axios from 'axios';\r\nimport React from 'react';\r\n\r\n\tconst mealTime = [\r\n\t  { key: 1, text: 'Frukost' , value: 'Frukost'},\r\n\t  { key: 2, text: 'Huvudrätt' , value: 'Huvudrätt'},\r\n\t  { key: 3, text: 'Middag' , value: 'Middag'},\r\n\t  { key: 4, text: 'Efterrätt' , value: 'Efterrätt'}\r\n\t]\r\n\r\n\tconst diet = [\r\n\t  { key: 1, text: 'Vegetarisk'  , value:  'Vegterainsk' },\r\n\t  { key: 2, text: 'Vegan' , value: 'Vegan'},\r\n\t  { key: 3, text: 'Glutenfri' , value: 'Glutenfri'},\r\n\t  { key: 4, text: 'Laktosfri' , value: 'Laktosfri'}\r\n\t]\r\n\r\n\tconst time = [\r\n\t  { key: 1, text: 'Under 15min' , value: 'Under 15min' },\r\n\t  { key: 2, text: 'Under 30min' , value: 'Under 30min'},\r\n\t  { key: 3, text: 'Under 45min' , value: 'Under 45min'},\r\n\t  { key: 4, text: 'Under 60min' , value: 'Under 60min'},\r\n\t  { key: 5, text: 'Över 60min' , value: 'Över 60min'}\r\n\t]\r\n\r\n\tconst grade = [\r\n\t  { key: 1, text: 'Färre än 3' , value: 'Mindre än 3' },\r\n\t  { key: 2, text: 'Färre än 4' , value: 'Mindre än 4'},\r\n\t  { key: 3, text: 'Fler än 4' , value: 'Högre än 4'},\r\n\t  { key: 4, text: '5 sjärnor' , value: '5 sjärnor'}\r\n\t]\r\n\tconst kcal = [\r\n\t  { key: 1, text: 'Under 200 kcal', value: 'Under 200 kcal' },\r\n\t  { key: 2, text: 'Under 500 kcal', value: 'Under 500 kcal' },\r\n\t  { key: 3, text: 'Under 1000 kcal', value: 'Under 1000 kcal' },\r\n\t];\r\n\r\nexport {diet,mealTime, time, grade, kcal};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport {mealTime, diet, time, grade, kcal} from './components/Query'\nimport {sorter} from './components/sorter'\nimport {Dropdown,Checkbox, Menu,Container,Accordion, Label,Input, Button,Icon ,Grid , Image, Item , Rating} from 'semantic-ui-react'\nimport ReactGA from 'react-ga';\nimport TagManager from 'react-gtm-module'\nimport CookieConsent from \"react-cookie-consent\";\n\n\nObject.size = function(obj) {\n    var size = 0, key;\n    for (key in obj) {\n        if (obj.hasOwnProperty(key)) size++;\n    }\n    return size;\n};\n\n\nclass ExampleT extends React.Component{\n  ingredients = {\n    items: [\"ägg\", \"vitkål\",\"vitlöksklyftor\" , \"ostronsås\"]\n  };\n\n  filters = {\n    mealtime: '',\n    diet: '',\n    time: '',\n    grade: '',\n    kcal: '',\n    climateSmart: false\n  };\n\n  constructor( props ) {\n  \t\tsuper( props );\n\n      this.fetchSearchResults = this.fetchSearchResults.bind(this);\n      this.handleSearch = this.handleSearch.bind(this);\n      this.addIngredients = this.addIngredients.bind(this);\n      this.handleSearchKeydown = this.handleSearchKeydown.bind(this);\n  \t\tthis.state = {\n        cookieconsent_status : Cookies.get('cookieconsent_status'),\n        initialize_ga : false,\n        activeIndex: null ,\n  \t\t\tquery: '',\n  \t\t\tresults: {},\n  \t\t\tloading: false,\n  \t\t\tmessage: ''\n  \t\t};\n  \t};\n\n    fetchSearchResults = (queryItems, filter ) => {\n    \t\taxios.post(  `/api/recipe`, {\n         \"keywords\" : queryItems,\n         \"filter\" : filter\n    \t\t},{\n          headers: {'Content-Type': 'application/json'\n         }\n        } )\n    \t\t\t.then(res => {\n            this.setState( {\n    \t\t\t\t\tresults: res.data\n    \t\t\t\t} )\n    \t\t\t} )\n    \t\t\t.catch( error => {\n    \t\t\t\tif ( axios.isCancel(error) || error ) {\n              console.log(\"Failed to fetch the data. Please check network\");\n\n    \t\t\t\t\tthis.setState({\n    \t\t\t\t\t\tloading: false,\n    \t\t\t\t\t\tmessage: 'Failed to fetch the data. Please check network'\n    \t\t\t\t\t})\n    \t\t\t\t}\n    \t\t\t} )\n\n          if (this.state.cookieconsent_status){\n            if(this.state.initialize_ga == false){\n              ReactGA.initialize('UA-163900334-1', 'auto' );\n              const tagManagerArgs = {\n                    gtmId: \"GTM-K9WDKDN\"\n                      }\n                            TagManager.initialize(tagManagerArgs );\n              this.state.initialize_ga = true;\n            }\n\n            ReactGA.pageview('search.php?keywords=' + queryItems)\n            queryItems.map(item => {\n                ReactGA.pageview('search.php?keyword=' + item);\n            });\n\n            if(!!filter.diet)\n                  ReactGA.event({    category: \"Specialkost\",     action: filter.diet,  value: filter.diet  });\n            if(!!filter.mealTime)\n                  ReactGA.event({    category: \"Måltid\", action: filter.mealTime,  value: filter.mealTime    });\n            if(!!filter.time)\n                  ReactGA.event({    category: \"Tillagningstid\",     action: filter.time,  value: filter.time    });\n            if(!!filter.kcal)\n                  ReactGA.event({    category: \"Kcal\",     action: filter.kcal,value: filter.kcal  });\n            if(filter.climateSmart)\n                  ReactGA.event({    category: \"Klimartsmart\" , action: \"Klimartsmart\",   value: \"true\" });\n           }\n    \t};\n\n  addIngredients () {\n        this.setState(state => {\n          if(document.getElementById('searchInput').value !== '') {\n            const items = this.ingredients.items.push(document.getElementById('searchInput').value);\n            document.getElementById('searchInput').value = \"\";\n            return {   items,  name: '', };\n          }\n        })\n  }\n\n  removeIngredients = (event) => {\n        const removeItem = event.target.getAttribute(\"aria-hidden\");\n        this.setState(state => {\n            const items = this.ingredients.items.splice(this.ingredients.items.indexOf(removeItem),1);\n            return {   items,  name: '', };\n          }  )\n  }\n\n  handleSearch  ()  {\n      this.setState(state => {\n        this.fetchSearchResults(this.ingredients.items, this.filters);\n      })\n   }\n\n   handleSearchKeydown = (e) => {\n     if (e.key === 'Enter') {\n       this.addIngredients();\n     }\n   }\n   handleClick = (e, titleProps) => {\n     const { index } = titleProps\n     const { activeIndex } = this.state\n     const newIndex = activeIndex === index ? -1 : index\n\n     this.setState({ activeIndex: newIndex })\n   };\n\n   handleChangeFilter = (event, data) => {\n     if(data.name == 'climateSmart')\n       this.filters[data.name] = data.checked;\n     else\n       this.filters[data.name] = data.value;\n\n       this.handleSearch();\n    }\n\n  renderSearchResults () {\n  \t\tconst  results  = this.state.results;\n      var curIndex = -1;\n      const { activeIndex } = this.state\n      var sorteredResults = sorter(this.state.results, this.ingredients);\n\t\t\tif ( Object.size(this.state.results) ) {\n\t\t\t         return (\n                 <Grid centered columns={1}>\n        \t\t\t\t\t{\n                    sorteredResults.results.map( result => {\n                    curIndex ++;\n          \t\t\t\t\treturn (\n                      <Grid.Row>\n                       <Grid.Column>\n                        <Item.Group>\n                         <Item>\n                            <Item.Image  as='a' onClick={()=> window.open(result.URL, \"_blank\")} size='small' src={ result.IMG_URL } />\n                            <Item.Content>\n                              <Item.Header as='a' onClick={()=> window.open(result.URL, \"_blank\")} >{result.Name}</Item.Header>\n                                 <Item.Meta>\n                                    { result.IngredientsMatches.map(ingredientItem => {\n                                            return(  <Label color='green'>{ ingredientItem }</Label>\n                                                  )\n                                        })\n                                      }\n                                      <br/>\n                                      <Accordion>\n                                           <Accordion.Title\n                                             indexstate={activeIndex && curIndex}\n                                             index={curIndex}\n                                             onClick={this.handleClick}\n                                           >\n                                             <Icon name='dropdown' />\n                                             Saknade ingredienser: (\n                                                {  result.missingCount }\n                                             )\n                                           </Accordion.Title>\n                                           <Accordion.Content active={activeIndex === curIndex}>\n                                            {\n                                                result.IngredientsMissing.map( curIngredient => {\n                                                        return (\n                                                           <Label size='small' id='missing' color='red'>{curIngredient}</Label>\n                                                        )\n                                                      })\n                                            }\n                                        </Accordion.Content>\n                                        </Accordion>\n                                   </Item.Meta>\n                                   <Item.Extra>\n                                     <Rating icon='star' rating={result.Rating} maxRating={5} disabled/>\n                                    </Item.Extra>\n                              </Item.Content>\n                          </Item>\n                       </Item.Group>\n                       <hr className=\"myDivivder\"/>\n                   </Grid.Column>\n                </Grid.Row>\n                  )})}\n          </Grid>\n  \t\t\t)}};\n\n\n  render() {\n\n    return (\n      <div>\n        <Image size='big' class=\"recipe-image-square__image\" id='logopic' href=\"http://recepthjälp.se\" src='.\\logo.png'/>\n        <br/>\n        <Label.Group>\n        <Label basic image>\n         <Image size='tiny' src='.\\images\\input.png' />\n          1. Mata in ingredienserna du vill använda\n        </Label>  <br/>\n        <Label basic image>\n         <Image size='tiny' src='.\\images\\filter.png' />\n          2. Filtera ut recept emot dina preferenser\n        </Label>  <br/>\n        <Label basic image>\n         <Image size='tiny' src='.\\images\\pick.png' />\n          3. Tryck på titlen och se hela receptet\n        </Label>\n          </Label.Group>  <br/>  <br/>\n            <Input onKeyDown={this.handleSearchKeydown}  id='searchInput' style={{minWidth: '50%'}}\n                icon={<Icon name='plus circle' color='green'  link  onClick={this.addIngredients} />}\n                placeholder='Fyll i ingredienser'>\n            </Input>\n\n          <Button onClick={this.handleSearch}>\n            <Icon name='search' />\n          </Button>\n          <br/>\n\n          <div id=\"divIngredients\" onClick={this.removeIngredients}>\n             {this.ingredients.items.map(function(item){\n                                                        return(\n                                                        <Label >  {item}     <Icon aria-hidden={item} name='close' />   </Label>\n                                                        )\n                                                      })}\n         </div>\n\n        <br/><br/>\n            <Dropdown name='mealtime' floating clearable compact placeholder='Måltid'\n                      options={mealTime} onChange={this.handleChangeFilter} selection />\n            <Dropdown name='diet' floating clearable compact  placeholder='Kosthållning'\n                      options={diet} onChange={this.handleChangeFilter} selection />\n            <Dropdown name='time' floating clearable  compact placeholder='Tillagningstid'\n                      options={time} onChange={this.handleChangeFilter} selection />\n            <Dropdown name='grade' floating clearable compact  placeholder='Betyg'\n                      options={grade} onChange={this.handleChangeFilter} selection />\n            <Dropdown name='kcal' floating clearable compact  placeholder='Kcal'\n                      options={kcal} onChange={this.handleChangeFilter} selection />\n            <Checkbox id=\"climateSmart\" name='climateSmart' toggle label='Klimartsmart'\n                        onChange={this.handleChangeFilter} />\n\n                <br/><br/>\n      { this.renderSearchResults() }\n\n\n<CookieConsent\n\n       enableDeclineButton\n       declineButtonText=\"Decline (optional)\"\n\n     >\n       This website uses cookies to enhance the user experience.{\" \"}\n       <span style={{ fontSize: \"10px\" }}>\n         This bit of text is smaller :O\n       </span>\n     </CookieConsent>\n    </div>\n);\n\n}}\n\nexport default ExampleT\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Container, Header, List ,Input } from \"semantic-ui-react\";\n\nimport Example from \"./example\";\n// TODO: Switch to https://github.com/palmerhq/the-platform#stylesheet when it will be stable\nconst styleLink = document.createElement(\"link\");\nstyleLink.rel = \"stylesheet\";\nstyleLink.href = \"https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css\";\ndocument.head.appendChild(styleLink);\n\nReactDOM.render( <Example/>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}