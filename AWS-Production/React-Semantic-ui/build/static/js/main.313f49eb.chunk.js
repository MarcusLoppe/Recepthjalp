(this["webpackJsonpreact-semantic-ui-app"]=this["webpackJsonpreact-semantic-ui-app"]||[]).push([[0],{153:function(e,t){e.exports={sorter:function(e,t){var a={results:[]};return Object.size(e)&&e.data.map((function(e){var n={Name:e.Name,IMG_URL:e.IMG_URL,Rating:e.rating,URL:e.URL,IngredientsMissing:[],IngredientsMatches:[],missingCount:0},i=(Object.keys(t.items),e.Ingredients.split(",")),l=!0;i.map((function(e){t.items.map((function(t){l=!0,e.includes(t)&&(l=!1,n.IngredientsMatches.push(e))})),l&&(n.IngredientsMissing.push(e),n.missingCount+=1)})),a.results.push(n)})),a.results.sort((function(e,t){return t.IngredientsMatches.length-e.IngredientsMatches.length})),a}}},188:function(e,t,a){e.exports=a(333)},333:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(28),r=a.n(l),c=a(150),s=a(151),o=a(38),m=a(176),d=a(175),u=a(72),h=a.n(u),g=a(152),p=a.n(g),k=[{key:1,text:"Frukost",value:"Frukost"},{key:2,text:"Huvudr\xe4tt",value:"Huvudr\xe4tt"},{key:3,text:"Middag",value:"Middag"},{key:4,text:"Efterr\xe4tt",value:"Efterr\xe4tt"}],v=[{key:1,text:"Vegetarisk",value:"Vegterainsk"},{key:2,text:"Vegan",value:"Vegan"},{key:3,text:"Glutenfri",value:"Glutenfri"},{key:4,text:"Laktosfri",value:"Laktosfri"}],f=[{key:1,text:"Under 15min",value:"Under 15min"},{key:2,text:"Under 30min",value:"Under 30min"},{key:3,text:"Under 45min",value:"Under 45min"},{key:4,text:"Under 60min",value:"Under 60min"},{key:5,text:"\xd6ver 60min",value:"\xd6ver 60min"}],E=[{key:1,text:"F\xe4rre \xe4n 3",value:"Mindre \xe4n 3"},{key:2,text:"F\xe4rre \xe4n 4",value:"Mindre \xe4n 4"},{key:3,text:"Fler \xe4n 4",value:"H\xf6gre \xe4n 4"},{key:4,text:"5 sj\xe4rnor",value:"5 sj\xe4rnor"}],y=[{key:1,text:"Under 200 kcal",value:"Under 200 kcal"},{key:2,text:"Under 500 kcal",value:"Under 500 kcal"},{key:3,text:"Under 1000 kcal",value:"Under 1000 kcal"}],b=a(153),x=a(345),I=a(342),C=a(55),S=a(344),w=a(39),U=a(346),M=a(174),j=a(340),R=a(334),F=a(343),O=a(341),z=a(31),K=a(154),_=a.n(K),T=a(155),L=a.n(T);Object.size=function(e){var t,a=0;for(t in e)e.hasOwnProperty(t)&&a++;return a};var G=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).ingredients={items:["\xe4gg","vitk\xe5l","vitl\xf6ksklyftor","ostrons\xe5s"]},n.filters={mealtime:"",diet:"",time:"",grade:"",kcal:"",climateSmart:!1},n.fetchSearchResults=function(e,t){if(h.a.post("/api/recipe",{keywords:e,filter:t},{headers:{"Content-Type":"application/json"}}).then((function(e){n.setState({results:e.data})})).catch((function(e){(h.a.isCancel(e)||e)&&(console.log("Failed to fetch the data. Please check network"),n.setState({loading:!1,message:"Failed to fetch the data. Please check network"}))})),n.state.cookieconsent_status){if(0==n.state.initialize_ga){z.a.initialize("UA-163900334-1","auto");_.a.initialize({gtmId:"GTM-K9WDKDN"}),n.state.initialize_ga=!0}z.a.pageview("search.php?keywords="+e),e.map((function(e){z.a.pageview("search.php?keyword="+e)})),t.diet&&z.a.event({category:"Specialkost",action:t.diet,value:t.diet}),t.mealTime&&z.a.event({category:"M\xe5ltid",action:t.mealTime,value:t.mealTime}),t.time&&z.a.event({category:"Tillagningstid",action:t.time,value:t.time}),t.kcal&&z.a.event({category:"Kcal",action:t.kcal,value:t.kcal}),t.climateSmart&&z.a.event({category:"Klimartsmart",action:"Klimartsmart",value:"true"})}},n.removeIngredients=function(e){var t=e.target.getAttribute("aria-hidden");n.setState((function(e){return{items:n.ingredients.items.splice(n.ingredients.items.indexOf(t),1),name:""}}))},n.handleSearchKeydown=function(e){"Enter"===e.key&&n.addIngredients()},n.handleClick=function(e,t){var a=t.index,i=n.state.activeIndex===a?-1:a;n.setState({activeIndex:i})},n.handleChangeFilter=function(e,t){"climateSmart"==t.name?n.filters[t.name]=t.checked:n.filters[t.name]=t.value,n.handleSearch()},n.fetchSearchResults=n.fetchSearchResults.bind(Object(o.a)(n)),n.handleSearch=n.handleSearch.bind(Object(o.a)(n)),n.addIngredients=n.addIngredients.bind(Object(o.a)(n)),n.handleSearchKeydown=n.handleSearchKeydown.bind(Object(o.a)(n)),n.state={cookieconsent_status:p.a.get("cookieconsent_status"),initialize_ga:!1,activeIndex:null,query:"",results:{},loading:!1,message:""},n}return Object(s.a)(a,[{key:"addIngredients",value:function(){var e=this;this.setState((function(t){if(""!==document.getElementById("searchInput").value){var a=e.ingredients.items.push(document.getElementById("searchInput").value);return document.getElementById("searchInput").value="",{items:a,name:""}}}))}},{key:"handleSearch",value:function(){var e=this;this.setState((function(t){e.fetchSearchResults(e.ingredients.items,e.filters)}))}},{key:"renderSearchResults",value:function(){var e=this,t=(this.state.results,-1),a=this.state.activeIndex,n=Object(b.sorter)(this.state.results,this.ingredients);if(Object.size(this.state.results))return i.a.createElement(x.a,{centered:!0,columns:1},n.results.map((function(n){return t++,i.a.createElement(x.a.Row,null,i.a.createElement(x.a.Column,null,i.a.createElement(I.a.Group,null,i.a.createElement(I.a,null,i.a.createElement(I.a.Image,{as:"a",onClick:function(){return window.open(n.URL,"_blank")},size:"small",src:n.IMG_URL}),i.a.createElement(I.a.Content,null,i.a.createElement(I.a.Header,{as:"a",onClick:function(){return window.open(n.URL,"_blank")}},n.Name),i.a.createElement(I.a.Meta,null,n.IngredientsMatches.map((function(e){return i.a.createElement(C.a,{color:"green"},e)})),i.a.createElement("br",null),i.a.createElement(S.a,null,i.a.createElement(S.a.Title,{indexstate:a&&t,index:t,onClick:e.handleClick},i.a.createElement(w.a,{name:"dropdown"}),"Saknade ingredienser: (",n.missingCount,")"),i.a.createElement(S.a.Content,{active:a===t},n.IngredientsMissing.map((function(e){return i.a.createElement(C.a,{size:"small",id:"missing",color:"red"},e)}))))),i.a.createElement(I.a.Extra,null,i.a.createElement(U.a,{icon:"star",rating:n.Rating,maxRating:5,disabled:!0}))))),i.a.createElement("hr",{className:"myDivivder"})))})))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(M.a,{size:"big",class:"recipe-image-square__image",id:"logopic",href:"http://recepthj\xe4lp.se",src:".\\logo.png"}),i.a.createElement("br",null),i.a.createElement(C.a.Group,null,i.a.createElement(C.a,{basic:!0,image:!0},i.a.createElement(M.a,{size:"tiny",src:".\\images\\input.png"}),"1. Mata in ingredienserna du vill anv\xe4nda"),"  ",i.a.createElement("br",null),i.a.createElement(C.a,{basic:!0,image:!0},i.a.createElement(M.a,{size:"tiny",src:".\\images\\filter.png"}),"2. Filtera ut recept emot dina preferenser"),"  ",i.a.createElement("br",null),i.a.createElement(C.a,{basic:!0,image:!0},i.a.createElement(M.a,{size:"tiny",src:".\\images\\pick.png"}),"3. Tryck p\xe5 titlen och se hela receptet")),"  ",i.a.createElement("br",null),"  ",i.a.createElement("br",null),i.a.createElement(j.a,{onKeyDown:this.handleSearchKeydown,id:"searchInput",style:{minWidth:"50%"},icon:i.a.createElement(w.a,{name:"plus circle",color:"green",link:!0,onClick:this.addIngredients}),placeholder:"Fyll i ingredienser"}),i.a.createElement(R.a,{onClick:this.handleSearch},i.a.createElement(w.a,{name:"search"})),i.a.createElement("br",null),i.a.createElement("div",{id:"divIngredients",onClick:this.removeIngredients},this.ingredients.items.map((function(e){return i.a.createElement(C.a,null,"  ",e,"     ",i.a.createElement(w.a,{"aria-hidden":e,name:"close"}),"   ")}))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(F.a,{name:"mealtime",floating:!0,clearable:!0,compact:!0,placeholder:"M\xe5ltid",options:k,onChange:this.handleChangeFilter,selection:!0}),i.a.createElement(F.a,{name:"diet",floating:!0,clearable:!0,compact:!0,placeholder:"Kosth\xe5llning",options:v,onChange:this.handleChangeFilter,selection:!0}),i.a.createElement(F.a,{name:"time",floating:!0,clearable:!0,compact:!0,placeholder:"Tillagningstid",options:f,onChange:this.handleChangeFilter,selection:!0}),i.a.createElement(F.a,{name:"grade",floating:!0,clearable:!0,compact:!0,placeholder:"Betyg",options:E,onChange:this.handleChangeFilter,selection:!0}),i.a.createElement(F.a,{name:"kcal",floating:!0,clearable:!0,compact:!0,placeholder:"Kcal",options:y,onChange:this.handleChangeFilter,selection:!0}),i.a.createElement(O.a,{id:"climateSmart",name:"climateSmart",toggle:!0,label:"Klimartsmart",onChange:this.handleChangeFilter}),i.a.createElement("br",null),i.a.createElement("br",null),this.renderSearchResults(),i.a.createElement(L.a,{enableDeclineButton:!0,declineButtonText:"Decline (optional)"},"This website uses cookies to enhance the user experience."," ",i.a.createElement("span",{style:{fontSize:"10px"}},"This bit of text is smaller :O")))}}]),a}(i.a.Component),B=document.createElement("link");B.rel="stylesheet",B.href="https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css",document.head.appendChild(B),r.a.render(i.a.createElement(G,null),document.getElementById("root"))}},[[188,1,2]]]);
//# sourceMappingURL=main.313f49eb.chunk.js.map